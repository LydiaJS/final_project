#include "interface.h"

Interface::Interface():
    client();
{}

void
Interface::setup()
{
    initscr();
    cbreak();
    noecho();
    curset(0);
    keypad(stdscr, TRUE);
    clear();
}

void
Interface::loop()
{
    WINDOW *menu_win;
    int c;
    do
    {
        
    }while(true);
    endwin();
}

int main()
{   WINDOW *menu_win;
int highlight = 1;
int choice = 0;
int c;

initscr();
clear();
noecho();
cbreak();   /* Line buffering disabled. pass on everything */
startx = (80 - WIDTH) / 2;
starty = (24 - HEIGHT) / 2;

menu_win = newwin(HEIGHT, WIDTH, starty, startx);
keypad(menu_win, TRUE);
mvprintw(0, 0, "Use arrow keys to go up and down, Press enter to select a choice");
refresh();
print_menu(menu_win, highlight);
while(1)
{   c = wgetch(menu_win);
switch(c)
{   case KEY_UP:
if(highlight == 1)
                    highlight = n_choices;
            else
                                    --highlight;
                            break;
                                        case KEY_DOWN:
                                            if(highlight == n_choices)
                                                                    highlight = 1;
                                                            else 
                                                                                    ++highlight;
                                                                            break;
                                                                                        case 10:
                                                                                            choice = highlight;
                                                                                                            break;
                                                                                                                        default:
                                                                                                                            mvprintw(24, 0, "Charcter pressed is = %3d Hopefully it can be printed as '%c'", c, c);
                                                                                                                                            refresh();
                                                                                                                                                            break;
                                                                                                                                                                    }
print_menu(menu_win, highlight);
        if(choice != 0) /* User did a choice come out of the infinite loop */
                        break;
            }   
mvprintw(23, 0, "You chose choice %d with choice string %s\n", choice, choices[choice - 1]);
clrtoeol();
refresh();
            endwin();
                return 0;
}
